{
  "metadata": {
    "project_name": "discord-llm-bot",
    "analysis_timestamp": "2025-06-07T20:51:04Z",
    "analysis_version": "2.1",
    "total_files_analyzed": 90,
    "primary_language": "typescript",
    "framework": "discord.js",
    "project_type": "discord_bot"
  },
  "project_structure": {
    "root_directory": "/mnt/c/github/discord/discord-llm-bot",
    "source_directories": {
      "src": "Main source code directory",
      "tests": "Test files and benchmarks",
      "docs": "Documentation files",
      "scripts": "Build and deployment scripts",
      "agents": "Agent coordination and orchestration",
      "data": "Data storage directory",
      "logs": "Application logs",
      "coverage": "Test coverage reports",
      "dist": "Compiled output directory"
    },
    "main_entry_points": [
      "src/index.ts",
      "src/core/botInitializer.ts"
    ],
    "configuration_files": [
      "package.json",
      "tsconfig.json",
      "jest.config.js",
      ".env",
      ".env.example"
    ]
  },
  "languages_and_frameworks": {
    "primary_language": "TypeScript",
    "runtime": "Node.js >=18.0.0",
    "main_framework": "discord.js v14",
    "ai_integration": "@google/genai (Gemini)",
    "database": "better-sqlite3",
    "logging": "winston",
    "testing_framework": "jest",
    "linting": "eslint + typescript-eslint",
    "formatting": "prettier"
  },
  "source_files": {
    "total_typescript_files": 90,
    "core_modules": [
      {
        "path": "src/index.ts",
        "type": "entry_point",
        "size_category": "small",
        "purpose": "Application entry point"
      },
      {
        "path": "src/core/botInitializer.ts",
        "type": "core",
        "size_category": "medium",
        "purpose": "Bot initialization and setup"
      }
    ],
    "service_modules": [
      {
        "path": "src/services/gemini.ts",
        "type": "ai_service",
        "size_category": "large",
        "purpose": "Gemini AI integration"
      },
      {
        "path": "src/services/contextManager.ts",
        "type": "context_service",
        "size_category": "large",
        "purpose": "Context management and memory"
      },
      {
        "path": "src/services/personalityManager.ts",
        "type": "personality_service",
        "size_category": "medium",
        "purpose": "Bot personality and behavior"
      },
      {
        "path": "src/services/behaviorAnalyzer.ts",
        "type": "behavior_service",
        "size_category": "medium",
        "purpose": "User behavior analysis"
      },
      {
        "path": "src/services/conversationManager.ts",
        "type": "conversation_service",
        "size_category": "medium",
        "purpose": "Conversation flow management"
      },
      {
        "path": "src/services/roastingEngine.ts",
        "type": "feature_service",
        "size_category": "medium",
        "purpose": "Roasting behavior logic"
      },
      {
        "path": "src/services/healthMonitor.ts",
        "type": "monitoring_service",
        "size_category": "medium",
        "purpose": "System health monitoring"
      },
      {
        "path": "src/services/gracefulDegradation.ts",
        "type": "reliability_service",
        "size_category": "medium",
        "purpose": "Fallback and degradation handling"
      },
      {
        "path": "src/services/configurationManager.ts",
        "type": "config_service",
        "size_category": "medium",
        "purpose": "Configuration management"
      },
      {
        "path": "src/services/analyticsManager.ts",
        "type": "analytics_service",
        "size_category": "medium",
        "purpose": "Analytics and metrics"
      }
    ],
    "context_services": [
      {
        "path": "src/services/context/ChannelContextService.ts",
        "type": "context_service",
        "size_category": "medium",
        "purpose": "Channel-specific context"
      },
      {
        "path": "src/services/context/ConversationMemoryService.ts",
        "type": "context_service",
        "size_category": "medium",
        "purpose": "Conversation memory management"
      },
      {
        "path": "src/services/context/MemoryOptimizationService.ts",
        "type": "context_service",
        "size_category": "medium",
        "purpose": "Memory optimization"
      },
      {
        "path": "src/services/context/SocialDynamicsService.ts",
        "type": "context_service",
        "size_category": "medium",
        "purpose": "Social dynamics analysis"
      },
      {
        "path": "src/services/context/UserContextService.ts",
        "type": "context_service",
        "size_category": "medium",
        "purpose": "User-specific context"
      }
    ],
    "command_modules": [
      {
        "path": "src/commands/analyticsCommands.ts",
        "type": "command",
        "size_category": "small",
        "purpose": "Analytics commands"
      },
      {
        "path": "src/commands/configurationCommands.ts",
        "type": "command",
        "size_category": "small",
        "purpose": "Configuration commands"
      },
      {
        "path": "src/commands/uxCommands.ts",
        "type": "command",
        "size_category": "small",
        "purpose": "User experience commands"
      }
    ],
    "handler_modules": [
      {
        "path": "src/handlers/commandHandlers.ts",
        "type": "handler",
        "size_category": "medium",
        "purpose": "Command processing"
      },
      {
        "path": "src/handlers/eventHandlers.ts",
        "type": "handler",
        "size_category": "medium",
        "purpose": "Event processing"
      }
    ],
    "utility_modules": [
      {
        "path": "src/utils/logger.ts",
        "type": "utility",
        "size_category": "small",
        "purpose": "Logging utilities"
      },
      {
        "path": "src/utils/messageSplitter.ts",
        "type": "utility",
        "size_category": "small",
        "purpose": "Message splitting logic"
      },
      {
        "path": "src/utils/raceConditionManager.ts",
        "type": "utility",
        "size_category": "small",
        "purpose": "Race condition prevention"
      }
    ]
  },
  "test_files": {
    "total_test_files": 25,
    "test_structure": {
      "unit_tests": "tests/unit/**/*.test.ts",
      "integration_tests": "tests/integration/**/*.test.ts",
      "e2e_tests": "tests/e2e/**/*.test.ts",
      "load_tests": "tests/load/**/*.test.ts",
      "benchmarks": "tests/benchmarks/**/*.ts"
    },
    "test_coverage_target": "85%",
    "key_test_files": [
      "tests/unit/services/configurationManager.test.ts",
      "tests/unit/services/gracefulDegradation.test.ts",
      "tests/unit/services/healthMonitor.test.ts",
      "tests/unit/services/roastingEngine.test.ts",
      "tests/unit/core/botInitializer.test.ts"
    ]
  },
  "configuration_and_build": {
    "typescript_config": "tsconfig.json",
    "jest_config": "jest.config.js",
    "eslint_config": "Embedded in package.json",
    "environment_files": [".env", ".env.example"],
    "build_output": "dist/",
    "package_manager": "npm"
  },
  "dependencies": {
    "production_dependencies": [
      "@google/genai",
      "discord.js",
      "better-sqlite3",
      "winston",
      "dotenv",
      "async-mutex",
      "crypto-js",
      "fs-extra",
      "ajv",
      "chokidar"
    ],
    "development_dependencies": [
      "typescript",
      "jest",
      "eslint",
      "prettier",
      "ts-node",
      "ts-jest"
    ]
  },
  "architecture_patterns": {
    "main_patterns": [
      "Service Layer Pattern",
      "Factory Pattern",
      "Observer Pattern",
      "Strategy Pattern"
    ],
    "modularity": "High - Services are well-separated",
    "coupling": "Low to Medium - Services use interfaces",
    "cohesion": "High - Clear separation of concerns",
    "layered_architecture": true
  },
  "complexity_indicators": {
    "estimated_cyclomatic_complexity": "Medium-High",
    "large_files_identified": [
      "src/services/gemini.ts",
      "src/services/contextManager.ts"
    ],
    "complex_business_logic_areas": [
      "AI response generation",
      "Context management",
      "Roasting behavior logic",
      "Memory optimization"
    ]
  },
  "quality_assessment_areas": {
    "code_organization": "Good - Clear directory structure",
    "documentation": "Moderate - Some inline docs, extensive markdown",
    "error_handling": "Moderate - Mix of try-catch and graceful degradation",
    "testing": "Good - Multiple test types with benchmarks",
    "type_safety": "Good - TypeScript with strict configuration"
  }
}