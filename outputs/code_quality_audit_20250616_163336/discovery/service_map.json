{
  "summary": {
    "totalServices": 130,
    "totalInterfaces": 25,
    "baseServices": 1,
    "managers": 15,
    "builders": 11,
    "handlers": 6,
    "engines": 3
  },
  "serviceArchitecture": {
    "baseClass": {
      "name": "BaseService",
      "location": "src/services/base/BaseService.ts",
      "features": [
        "Timer management",
        "Resource tracking",
        "Lifecycle management",
        "Health monitoring",
        "Error handling"
      ],
      "states": ["created", "initializing", "ready", "shutting_down", "shutdown", "failed"]
    },
    "initialization": {
      "orchestrator": "ServiceInitializer",
      "location": "src/core/ServiceInitializer.ts",
      "features": [
        "Dependency resolution",
        "Topological sorting",
        "Timeout protection",
        "Automatic rollback",
        "Resource cleanup"
      ]
    }
  },
  "serviceDomains": {
    "analytics": {
      "services": 15,
      "keyServices": [
        {
          "name": "analyticsManager",
          "location": "src/services/analyticsManager.ts",
          "dependencies": ["EventTrackingService", "MetricsCollectionService"]
        },
        {
          "name": "EventTrackingService",
          "location": "src/services/analytics/EventTrackingService.ts",
          "dependencies": ["better-sqlite3", "uuid"]
        },
        {
          "name": "EventBatchingService",
          "location": "src/services/analytics/EventBatchingService.ts",
          "purpose": "Batch event processing for performance"
        },
        {
          "name": "UserBehaviorAnalytics",
          "location": "src/services/analytics/UserBehaviorAnalytics.ts",
          "dependencies": ["crypto-js"]
        }
      ]
    },
    "configuration": {
      "services": 11,
      "keyServices": [
        {
          "name": "ConfigurationManager",
          "location": "src/services/config/ConfigurationManager.ts",
          "dependencies": ["chokidar", "ajv"],
          "issue": "Duplicate with src/services/configurationManager.ts"
        },
        {
          "name": "ConfigurationValidator",
          "location": "src/services/config/ConfigurationValidator.ts",
          "dependencies": ["ajv"]
        },
        {
          "name": "ConfigurationMonitor",
          "location": "src/config/monitoring/ConfigurationMonitor.ts"
        }
      ]
    },
    "context": {
      "services": 18,
      "builders": 9,
      "keyServices": [
        {
          "name": "contextManager",
          "location": "src/services/contextManager.ts",
          "dependencies": ["ConversationContextBuilder", "UserContextBuilder"]
        },
        {
          "name": "ContextCacheManager",
          "location": "src/services/context/ContextCacheManager.ts"
        },
        {
          "name": "ConversationMemoryService",
          "location": "src/services/context/ConversationMemoryService.ts"
        }
      ]
    },
    "gemini": {
      "services": 4,
      "keyServices": [
        {
          "name": "GeminiService",
          "location": "src/services/gemini/GeminiService.ts",
          "dependencies": ["@google/genai"],
          "critical": true
        },
        {
          "name": "GeminiAPIClient",
          "location": "src/services/gemini/GeminiAPIClient.ts"
        },
        {
          "name": "GeminiContextProcessor",
          "location": "src/services/gemini/GeminiContextProcessor.ts"
        }
      ]
    },
    "health": {
      "services": 5,
      "keyServices": [
        {
          "name": "HealthMonitor",
          "location": "src/services/health/HealthMonitor.ts",
          "critical": true
        },
        {
          "name": "HealthMetricsCollector",
          "location": "src/services/health/HealthMetricsCollector.ts"
        }
      ]
    },
    "resilience": {
      "services": 7,
      "keyServices": [
        {
          "name": "CircuitBreaker",
          "location": "src/services/resilience/CircuitBreaker.ts"
        },
        {
          "name": "GracefulDegradation",
          "location": "src/services/resilience/GracefulDegradation.ts"
        },
        {
          "name": "FallbackManager",
          "location": "src/services/resilience/FallbackManager.ts"
        }
      ]
    },
    "cache": {
      "services": 2,
      "keyServices": [
        {
          "name": "cacheManager",
          "location": "src/services/cacheManager.ts",
          "dependencies": ["async-mutex"]
        }
      ]
    },
    "rateLimit": {
      "services": 1,
      "keyServices": [
        {
          "name": "rateLimiter",
          "location": "src/services/rateLimiter.ts",
          "dependencies": ["async-mutex"],
          "optimized": true
        }
      ]
    }
  },
  "serviceDependencyGraph": {
    "criticalPath": [
      "ConfigurationManager",
      "HealthMonitor",
      "GeminiService",
      "contextManager",
      "conversationManager"
    ],
    "circularDependencies": [],
    "orphanedServices": [
      "src/services/OptimizedServiceExample.ts",
      "src/examples/ServiceInitializerExample.ts"
    ]
  },
  "interfaces": {
    "count": 25,
    "location": "src/services/interfaces/",
    "keyInterfaces": [
      "IService",
      "ServiceHealthStatus",
      "IAnalyticsService",
      "ICacheService",
      "IConfigurationService",
      "IGeminiService"
    ]
  },
  "issues": {
    "duplicateServices": [
      {
        "name": "ConfigurationManager",
        "locations": [
          "src/services/config/ConfigurationManager.ts:14415 bytes",
          "src/services/configurationManager.ts:1010 bytes"
        ],
        "recommendation": "Remove smaller duplicate file"
      },
      {
        "name": "MultimodalContentHandler",
        "locations": [
          "src/services/multimodal/MultimodalContentHandler.ts",
          "src/services/multimodalContentHandler.ts"
        ]
      },
      {
        "name": "RoastingEngine", 
        "locations": [
          "src/services/roasting/RoastingEngine.ts",
          "src/services/roastingEngine.ts"
        ]
      }
    ],
    "namingInconsistencies": [
      {
        "issue": "Mixed casing for managers",
        "examples": ["analyticsManager.ts", "ConfigurationManager.ts"],
        "recommendation": "Standardize to PascalCase for all service files"
      }
    ],
    "organizationalIssues": [
      {
        "issue": "Services at multiple directory levels",
        "description": "Some services in subdirectories, others at root",
        "impact": "Difficult to locate and maintain services"
      },
      {
        "issue": "Large number of services",
        "count": 130,
        "recommendation": "Consider consolidating related services"
      }
    ]
  },
  "recommendations": [
    {
      "priority": "high",
      "action": "Remove duplicate service files",
      "services": ["ConfigurationManager", "MultimodalContentHandler", "RoastingEngine"],
      "impact": "Eliminates confusion and potential bugs"
    },
    {
      "priority": "high", 
      "action": "Standardize service file naming",
      "pattern": "Use PascalCase for all service files",
      "impact": "Improves consistency and discoverability"
    },
    {
      "priority": "medium",
      "action": "Reorganize service structure",
      "suggestion": "Group all services by domain in subdirectories",
      "impact": "Better organization and maintainability"
    },
    {
      "priority": "medium",
      "action": "Consolidate related services",
      "example": "Merge multiple context builders into composite patterns",
      "impact": "Reduces complexity and file count"
    }
  ]
}